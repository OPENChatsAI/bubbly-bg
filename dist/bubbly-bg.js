function generateConfig(t){let e=t.canvas||(()=>{let t=document.createElement("canvas");return t.setAttribute("style","position:fixed;z-index:-1;left:0;top:0;min-width:100vw;min-height:100vh;"),t.width=window.innerWidth,t.height=window.innerHeight,document.body.appendChild(t),t})();const o={cv:e,compose:t.compose??"lighter",bubbles:{count:t.bubbles?.count??Math.floor(.02*(e.width+e.height)),radius:t.bubbles?.radius??(()=>4+Math.random()*window.innerWidth/25),fill:t.bubbles?.fill??(()=>`hsla(0, 0%, 100%, ${.1*Math.random()})`),angle:t.bubbles?.angle??(()=>Math.random()*Math.PI*2),velocity:t.bubbles?.velocity??(()=>.1+.5*Math.random()),shadow:t.bubbles?.shadow??(()=>null),stroke:t.bubbles?.stroke??(()=>null)},background:t.background??(()=>"#2AE"),animate:!1!==t.animate,ctx:e.getContext("2d")};return o.bubbles.objectCreator=t.bubbles?.objectCreator??(()=>({r:o.bubbles.radius(),f:o.bubbles.fill(),x:Math.random()*o.cv.width,y:Math.random()*o.cv.height,a:o.bubbles.angle(),v:o.bubbles.velocity(),sh:o.bubbles.shadow(),st:o.bubbles.stroke(),draw:(t,e)=>{e.sh&&(t.shadowColor=e.sh.color,t.shadowBlur=e.sh.blur),t.fillStyle=e.f,t.beginPath(),t.arc(e.x,e.y,e.r,0,2*Math.PI),t.fill(),e.st&&(t.strokeStyle=e.st.color,t.lineWidth=e.st.width,t.stroke())}})),o}window.bubbly=function(t={}){t=generateConfig(t);let e=Array.from({length:t.bubbles.count},t.bubbles.objectCreator);requestAnimationFrame((function o(){if(null===t.cv.parentNode)return e=[],cancelAnimationFrame(o);t.animate&&requestAnimationFrame(o);t.ctx.globalCompositeOperation="source-over",t.ctx.fillStyle=t.background(t.ctx),t.ctx.fillRect(0,0,t.cv.width,t.cv.height),t.ctx.globalCompositeOperation=t.compose,e.forEach((e=>{e.draw(t.ctx,e),e.x+=Math.cos(e.a)*e.v,e.y+=Math.sin(e.a)*e.v,e.x-e.r>t.cv.width&&(e.x=-e.r),e.x+e.r<0&&(e.x=t.cv.width+e.r),e.y-e.r>t.cv.height&&(e.y=-e.r),e.y+e.r<0&&(e.y=t.cv.height+e.r)}))}))};