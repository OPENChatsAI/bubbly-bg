window.bubbly=function(t){const o=t||{},e=()=>Math.random(),l=o.canvas||document.createElement("canvas");let n=l.width,a=l.height;null===l.parentNode&&(l.setAttribute("style","position:fixed;z-index:-1;left:0;top:0;min-width:100vw;min-height:100vh;"),n=l.width=window.innerWidth,a=l.height=window.innerHeight,document.body.appendChild(l));const i=l.getContext("2d");i.shadowColor=o.shadowColor||"#fff",i.shadowBlur=o.blur||4;const r=i.createLinearGradient(0,0,n,a);r.addColorStop(0,o.colorStart||"#2AE"),r.addColorStop(1,o.colorStop||"#17B");const c=o.bubbles||Math.floor(.02*(n+a)),d=[];for(let t=0;t<c;t++)d.push({f:(o.bubbleFunc||(()=>`hsla(0, 0%, 100%, ${.1*e()})`)).call(),x:e()*n,y:e()*a,r:(o.radiusFunc||(()=>4+e()*n/25)).call(),a:(o.angleFunc||(()=>e()*Math.PI*2)).call(),v:(o.velocityFunc||(()=>.1+.5*e())).call()});!function t(){if(null===l.parentNode)return cancelAnimationFrame(t);!1!==o.animate&&requestAnimationFrame(t),i.globalCompositeOperation="source-over",i.fillStyle=r,i.fillRect(0,0,n,a),i.globalCompositeOperation=o.compose||"lighter",d.forEach((t=>{i.beginPath(),i.arc(t.x,t.y,t.r,0,2*Math.PI),i.fillStyle=t.f,i.fill(),t.x+=Math.cos(t.a)*t.v,t.y+=Math.sin(t.a)*t.v,t.x-t.r>n&&(t.x=-t.r),t.x+t.r<0&&(t.x=n+t.r),t.y-t.r>a&&(t.y=-t.r),t.y+t.r<0&&(t.y=a+t.r)}))}()};