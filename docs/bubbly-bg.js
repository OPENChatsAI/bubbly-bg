window.bubbly=function(e={}){const t=e.canvas||(()=>{let e=document.createElement("canvas");return e.setAttribute("style","position:fixed;z-index:-1;left:0;top:0;min-width:100vw;min-height:100vh;"),e.width=window.innerWidth,e.height=window.innerHeight,document.body.appendChild(e),e})(),o=t.getContext("2d"),b={compose:e.compose??"lighter",bubbles:{count:e.bubbles?.count??Math.floor(.02*(t.width+t.height)),radius:e.bubbles?.radius??(()=>4+Math.random()*window.innerWidth/25),fill:e.bubbles?.fill??(()=>`hsla(0, 0%, 100%, ${.1*Math.random()})`),angle:e.bubbles?.angle??(()=>Math.random()*Math.PI*2),velocity:e.bubbles?.velocity??(()=>.1+.5*Math.random()),shadow:e.bubbles?.shadow??(()=>null),stroke:e.bubbles?.stroke??(()=>null)},background:e.background??(()=>"#2AE"),animate:!1!==e.animate};b.bubbles.objectCreator=e.bubbles?.objectCreator??(()=>({r:b.bubbles.radius(),f:b.bubbles.fill(),x:Math.random()*t.width,y:Math.random()*t.height,a:b.bubbles.angle(),v:b.bubbles.velocity(),sh:b.bubbles.shadow(),st:b.bubbles.stroke(),draw:(e,t)=>{t.sh&&(e.shadowColor=t.sh.color,e.shadowBlur=t.sh.blur),e.fillStyle=t.f,e.beginPath(),e.arc(t.x,t.y,t.r,0,2*Math.PI),e.fill(),t.st&&(e.strokeStyle=t.st.color,e.lineWidth=t.st.width,e.stroke())}}));let l=Array.from({length:b.bubbles.count},b.bubbles.objectCreator);requestAnimationFrame((function e(){if(null===t.parentNode)return l=[],cancelAnimationFrame(e);b.animate&&requestAnimationFrame(e);o.globalCompositeOperation="source-over",o.fillStyle=b.background(o),o.fillRect(0,0,t.width,t.height),o.globalCompositeOperation=b.compose,l.forEach((e=>{e.draw(o,e),e.x+=Math.cos(e.a)*e.v,e.y+=Math.sin(e.a)*e.v,e.x-e.r>t.width&&(e.x=-e.r),e.x+e.r<0&&(e.x=t.width+e.r),e.y-e.r>t.height&&(e.y=-e.r),e.y+e.r<0&&(e.y=t.height+e.r)}))}))};