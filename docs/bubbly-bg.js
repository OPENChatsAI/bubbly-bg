function getGradient(t,e,a){const n=t.createLinearGradient(0,0,e.width,e.height);return n.addColorStop(0,a.colorStart||"#2AE"),n.addColorStop(1,a.colorStop||"#17B"),n}function createDefaultCanvas(){const t=document.createElement("canvas");return t.setAttribute("style","position:fixed;z-index:-1;left:0;top:0;min-width:100vw;min-height:100vh;"),t.width=window.innerWidth,t.height=window.innerHeight,document.body.appendChild(t),t}window.bubbly=function(t={}){const e=()=>Math.random(),a=t.canvas||createDefaultCanvas(),n=a.getContext("2d"),i=getGradient(n,a,t),o=t.bubbles||Math.floor(.02*(a.width+a.height)),r=[],l=2*(t.blur||4);for(let n=0;n<o;n++){let n=(t.radiusFunc||(()=>4+e()*a.width/25)).call();const i=document.createElement("canvas");i.width=i.height=2*n+l;const o=i.getContext("2d");o.shadowColor=t.shadowColor||"#fff",o.shadowBlur=t.blur||4,o.fillStyle=(t.bubbleFunc||(()=>`hsla(0, 0%, 100%, ${.1*e()})`)).call(),o.beginPath(),o.arc(n+l/2,n+l/2,n,0,2*Math.PI),o.fill();const h=new Image;h.src=i.toDataURL(),r.push({img:h,r:n+l,x:e()*a.width,y:e()*a.height,a:(t.angleFunc||(()=>e()*Math.PI*2)).call(),v:(t.velocityFunc||(()=>.1+.5*e())).call()})}!function e(){if(null===a.parentNode)return cancelAnimationFrame(e);!1!==t.animate&&requestAnimationFrame(e),n.globalCompositeOperation="source-over",n.fillStyle=i,n.fillRect(0,0,a.width,a.height),n.globalCompositeOperation=t.compose||"lighter",r.forEach((t=>{n.drawImage(t.img,t.x-t.r,t.y-t.r),t.x+=Math.cos(t.a)*t.v,t.y+=Math.sin(t.a)*t.v,t.x-t.r>a.width&&(t.x=-t.r),t.x+t.r<0&&(t.x=a.width+t.r),t.y-t.r>a.height&&(t.y=-t.r),t.y+t.r<0&&(t.y=a.height+t.r)}))}()};